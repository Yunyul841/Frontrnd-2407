<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .btn {
        width: 50px;
        height: 50px;
        border: 1px solid;
        display: inline-block;
        text-align: center;
        
    }
</style>
<body>
    <h2>계산기</h2>
    수식<span id="k"></span><br>
    <div class="btn">1</div>
    <div class="btn">2</div>
    <div class="btn">3</div><br>
    <div class="btn">4</div>
    <div class="btn">5</div>
    <div class="btn">6</div><br>
    <div class="btn">7</div>
    <div class="btn">8</div>
    <div class="btn">9</div><br>
    <div class="btn">+</div>
    <div class="btn">-</div>
    <div class="btn">=</div>
    <div class="btn">ac</div>
    
</body>
</html>
<script> 

    // 이벤트 처리르 위한 리스너 : 이벤트리스너
    // 지금 사용해 본 것은 : click, change
    // 마우스 동작은 : mouseup, mousedown
    // 키보드 동작도 있다..
    // 리스너를 등록하는 방법은 크게 2가지
    // 1. html태그에서 함수를 지정하는 방법 11계산기,html
    // 2. 자바스크립트에서 리스너에 등록하는 방법..

    // 함수영역이 아닙니다. 문서가 로딩될 떄
    // 여기서 작성하는 코드는 실해잉 된다는 의미
    // 함수로 작성한 코드는 콜이 될 떄 실행되는 것


    // 리스너 등록 <람다식 활용> - 함수를 간결하게 표현한 것.
    //                          - 코드를 여러 줄 처리하기 위해 
    //                           - 함수로 묶어서 정의 하는 경우
    //                            - 코드의 재사용성 보다, 간단한 기능 정의
    //                             - 람다식도 호출 가능한다.
    
    // document.getElementsByClassName("btn")[0].addEventListener('click',()=>{cal(1)}) // 람다식 활용

    // 계산기에서 모든 버튼은 이벤트에 동록되어야 한다.
    // html에서 onclick을 하던, 자바스크립트에서 리스너 등록을 해야 한다.
    // 이번 예제는 자바스크립트에서 리스너를 등록하겠다.
    var allBtn = document.getElementsByClassName("btn")
    for(let i = 0; i < allBtn.length; i++){
        // console.log(allBtn[i]);\
        let s = allBtn[i].innerHTML
        document.getElementsByClassName("btn")[i].addEventListener('click',()=>{
                                                                                cal(s)
                                                                                })        
    }



    // 이벤트등록, 이벤트 처리 시 일반적으로 람다식을 많이 사용한다.
    // document.getElementsByClassName("btn")[1].addEventListener('click',ttt) // callback 활용
    // ttt는 callback함수 이벤튼가 발생할 때 ttt에게 넘겨준다.
    // document.getElementsByClassName("btn")[2].addEventListener('click', // callback 활용
    // 람다식으로 기능을 호출한 것 이벤트를 간단하게 처리할 떄 사용한다.
    // () => {
    //     alert("tt aaa") 
    // } ) // callback 활용
    
    // document.getElementsByClassName("btn")[3].addEventListener('click',
    // () => {
    //     alert("aaa")
    // })

    
    // function ttt(){
    //     alert("aaa")
    // }


    tt = () => {
        alert("tt aaa") // 람다식 표현
    } 

    function cal(a){
        // alert(a)
        if (a == 'ac'){
            let ab = document.getElementById('k')
            ab.innerText = 0;
        } else if(a == '='){
            let ab = document.getElementById('k')
            let c = ab.innerText
            ab.innerText = eval(c)
        } else {
            let ab = document.getElementById('k')
            ab.innerText = ab.innerText + a
            // alert(ab.innerText) html의 태그를 넣을 수 있다.
        } 
    }
</script>